<FULL UPDATED FILE CONTENT HERE – the refactored version using lib/api.ts, with board_id/board_type fields, and archive handled via updateBoard>